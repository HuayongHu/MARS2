# MARS2 VR-Ads赛道

本仓库包含了**rookiesllm**队的完整的代码。

## 文件结构与说明

### 数据文件
- **`asr_set.json`** - 语音识别结果数据集
  - 存储视频的语音提取后的文本内容
  - 字段格式：VR-ads视频文件名称作为键值
  - 包含从视频中自动识别出的语音转文字结果

### 核心处理脚本

#### `step1.py`
- **功能**: 提取并转换成英语文本模块
- **主要任务**:
  - 读取视频文件
  - 从视频中提取文字
  - 为了更好地处理，将识别到的文字转换成英语
  
#### `step2.py`
- **功能**: 视频问答处理核心模块
- **主要任务**:
  - 读取视频文件
  - 解析问题内容
  - 基于视频内容生成回答
  - 输出初步的问答结果

#### `step3.py` & `step4.py`
- **功能**: 结果格式化处理模块
- **主要任务**:
  - 处理`step2.py`生成的原始结果
  - 将输出结果转换为符合竞赛提交要求的标准格式

## 工作流程

```
视频输入 → step2.py (问答处理) → step3.py & step4.py (格式转换) → 最终提交结果
     ↑
asr_set.json (语音识别数据) ← step1.py (语音识别及翻译)
```

## 使用方法

1. **运行ASR**: 执行`step1.py`进行视频语音识别及翻译
1. **运行主处理**: 执行`step2.py`进行视频问题处理
2. **格式转换**: 运行`step3.py`和`step4.py`将结果转换为竞赛要求的提交格式

```bash
python step1.py
python step2.py
python step3.py
python step4.py
```

## 附加说明

- 本实验为了方便对照，`step1.py`执行后的英语文本并未做合并处理，是逐个手动合并到`asr_set.json`去的
